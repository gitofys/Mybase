# 版本 2.18.17 测试说明

## 测试前准备

### 1. 编译项目
在 Android Studio 中：
- 打开项目
- 点击 `Build` → `Make Project` 或按 `Ctrl+F9`
- 等待编译完成，检查是否有错误

或者使用命令行（如果已配置 Gradle）：
```bash
gradlew assembleDebug
```

### 2. 安装到设备
- 连接 Android 设备或启动模拟器
- 点击 `Run` → `Run 'app'` 或按 `Shift+F10`
- 等待应用安装完成

## 测试项目清单

### ✅ 基础功能测试

1. **应用启动**
   - [ ] 应用能够正常启动
   - [ ] 应用名称显示为"食品快速检测仪"
   - [ ] 直接进入扫描界面（不再显示 HomeViewActivity）

2. **设备连接**
   - [ ] 应用启动后自动扫描设备 "NIR-M-R2 <D11R013>"
   - [ ] 如果设备在范围内，能够自动连接
   - [ ] 连接状态指示器显示正确状态
   - [ ] "连接设备"按钮可以手动触发连接
   - [ ] 连接失败时显示提示对话框

3. **图表显示**
   - [ ] 启动时图表显示默认水平直线（不显示转圈等待）
   - [ ] 图表 X 轴显示波长范围（900-1700nm）
   - [ ] 图表 Y 轴显示强度值（初始为 0）
   - [ ] 显示模式选择器（Spinner）可以正常切换
   - [ ] 可以切换显示：强度、吸光度、反射率

4. **灯光控制**
   - [ ] "灯光设置"按钮可以打开设置对话框
   - [ ] 可以设置预热时间
   - [ ] 可以启动预热（倒计时显示）
   - [ ] 预热期间其他操作被禁用
   - [ ] 可以设置灯光模式：开启/关闭/自动
   - [ ] 自动模式：扫描前自动开灯，扫描后自动关灯

5. **扫描功能**
   - [ ] 可以设置文件前缀
   - [ ] "显示配置"按钮可以展开/折叠配置区域
   - [ ] 可以设置手动模式参数（PGA、重复次数、灯光时间等）
   - [ ] 点击"扫描"按钮可以开始扫描
   - [ ] 扫描完成后图表更新显示实际数据
   - [ ] 数据可以保存到文件

6. **菜单功能**
   - [ ] 设置菜单可以正常打开
   - [ ] 配置菜单可以正常打开
   - [ ] 其他菜单项功能正常

### ⚠️ 已知变更

1. **移除的功能**
   - ViewPager 多标签页显示（已替换为单图表 + Spinner）
   - Normal、QuickSet、Maintain 扫描模式（仅保留 Manual 模式）
   - HomeViewActivity 作为启动界面

2. **代码清理**
   - ViewPager 相关代码已注释（保留以备参考）
   - CustomPagerAdapter 和 CustomPagerEnum 已注释

## 问题报告

如果测试过程中发现问题，请记录：

1. **问题描述**：详细描述问题现象
2. **复现步骤**：如何重现问题
3. **预期行为**：应该发生什么
4. **实际行为**：实际发生了什么
5. **设备信息**：Android 版本、设备型号等

## 测试结果

- [ ] 所有功能正常
- [ ] 发现以下问题：
  - 问题1：...
  - 问题2：...

---

**测试日期**：___________  
**测试人员**：___________  
**测试结果**：通过 / 未通过

